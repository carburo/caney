{% extends "base.html.twig" %}

{% block title %}
    {{ hostel.hostelName }}
{% endblock %}

{% block headingTitle %}{{ hostel.hostelName }}{% endblock %}

{% block bodyPreamble %}
    {{ include('photo-swipe.html.twig') }}
{% endblock %}

{% block content %}
    <section id="contact-page">
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-sm-12">
                    {% if is_granted('edit', hostel) %}
                        <a href="{{ path('hostel_edit', {'slug': hostel.slug}) }}">Edit</a>
                    {% endif %}
                    <p style="margin-top:20px ">
                        {{ hostel.description[:800]|nl2br }}
                        {% if hostel.description|length > 800 %}
                            &hellip;
                        {% endif %}
                    </p>
                    <h3>
                        <i class='material-icons'>place</i>
                        {% trans %}title.address{% endtrans %}
                    </h3>
                    <p>{{ hostel.address }}</p>
                    <h3>
                        <i class='material-icons'>hotel</i>
                        {% trans %}title.rooms{% endtrans %}
                    </h3>
                    <div class="panel-group mea-default-accordion" id="mea-accordion" role="tablist" aria-multiselectable="true">
                        {% for room in hostel.rooms %}
                            <div class="panel panel-default">
                                <div class="panel-heading" role="tab" id="heading{{ loop.index }}">
                                <h4 class="panel-title">
                                    <a role="button" data-toggle="collapse" data-parent="#mea-accordion" href="#collapse{{ loop.index }}" aria-expanded="false" aria-controls="collapse{{ loop.index }}" class="collapsed">
                                    {{ room.name }}
                                    ({% transchoice room.capacity with {'%capacity%': room.capacity} %}room.capacity.label{% endtranschoice %}:
                                    ${{ room.priceInLow }} / ${{ room.priceInHigh }})
                                    </a>
                                </h4>
                                </div>
                                <div id="collapse{{ loop.index }}" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading{{ loop.index }}" aria-expanded="false" style="height: 0px;">
                                <div class="panel-body">
                                    <ul>
                                        <li>
                                            <i class="material-icons">hot_tub</i>
                                            {% transchoice room.privateBathroom %}room.privateBathroom.label{% endtranschoice %}
                                        </li>
                                        {% if room.hotWater %}
                                            <li>
                                                <i class="material-icons">invert_colors</i>
                                                {{ 'room.hotWater.label' | trans }}
                                            </li>
                                        {% endif %}
                                        <li>
                                            <i class='material-icons'>ac_unit</i>
                                            {% transchoice room.airConditioner %}room.airConditioner.label{% endtranschoice %}
                                        </li>
                                        {% if room.voltage120 or room.voltage240 %}
                                            <li>
                                                <i class='material-icons'>flash_on</i>
                                                {{ 'room.voltage.label' | trans({'%voltage%': room.voltage | join(', ')}) }}
                                            </li>
                                        {% endif %}
                                        {% if room.privateEntrance %}
                                            <li>
                                                <i class="fa fa-check-square"></i>
                                                {{ 'room.privateEntrance.label' | trans }}
                                            </li>
                                        {% endif %}
                                        {% if room.safe %}
                                            <li>
                                                <i class="fa fa-check-square"></i>
                                                {{ 'room.safe.label' | trans }}
                                            </li>
                                        {% endif %}
                                        {% if room.terrace %}
                                            <li>
                                                <i class="fa fa-check-square"></i>
                                                {{ 'room.terrace.label' | trans }}
                                            </li>
                                        {% endif %}
                                        {% if room.minibar %}
                                            <li>
                                                <i class="fa fa-check-square"></i>
                                                {{ 'room.minibar.label' | trans }}
                                            </li>
                                        {% endif %}
                                        {% if room.hairDryer %}
                                            <li>
                                                <i class="fa fa-check-square"></i>
                                                {{ 'room.hairDryer.label' | trans }}
                                            </li>
                                        {% endif %}
                                        {% if room.television %}
                                            <li>
                                                <i class="material-icons">tv</i>
                                                {{ 'room.television.label' | trans }}
                                            </li>
                                        {% endif %}                                    
                                    </ul>
                                </div>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>{#--/.col-sm-8--#}
                <div class="col-md-6 col-sm-12">
                    <h3>{% trans %}hostel.info.title{% endtrans %}</h3>
                    <ul>
                        <li>
                            <i class='material-icons'>child_friendly</i>
                            {% transchoice hostel.childrenAccepted %}children.accepted{% endtranschoice %}
                        </li>
                        <li>
                            <i class='material-icons'>directions_car</i>
                            {% if hostel.garage %}
                                {% trans with { '%price%': hostel.garagePrice } %}garage.price{% endtrans %}
                            {% else %}
                                {{ 'garage.label'|trans }}: <strong>{{ 'label.notAvailable'|trans }}</strong>
                            {% endif %}
                        </li>
                        <li>
                            <i class='material-icons'>local_laundry_service</i>
                            {% transchoice hostel.laundry %}laundry.label{% endtranschoice %}
                        </li>
                        {% if hostel.swimmingPool %}<li>{{ 'swimmingPool.label'|trans }}</li>{% endif %}
                        <li>
                            <i class='material-icons'>http</i>
                            {% transchoice hostel.internet %}internet.label{% endtranschoice %}
                        </li>
                        <li>
                            <i class='material-icons'>wifi</i>
                            {% transchoice hostel.wifi %}wifi.label{% endtranschoice %}
                        </li>
                    </ul>
                    <h3>{% trans %}title.food{% endtrans %}</h3>
                    <ul>
                        <li>
                            <i class='material-icons'>free_breakfast</i>
                            {% if hostel.breakfast %}
                                {% trans with {'%price%': hostel.breakfastPrice } %}breakfast.price{% endtrans %}
                            {% else %}
                                {{ 'breakfast.label'|trans }}: <strong>{{ 'label.notAvailable'|trans }}</strong>
                            {% endif %}
                        </li>
                        <li>
                            <i class='material-icons'>local_dining</i>
                            {% if hostel.dinner %}
                                {% trans with {'%price%': hostel.dinnerPrice } %}dinner.price{% endtrans %}
                            {% else %}
                                {{ 'dinner.label'|trans }}: <strong>{{ 'label.notAvailable'|trans }}</strong>
                            {% endif %}
                        </li>
                        {% if hostel.cocktails %}
                            <li>
                                <i class='material-icons'>local_bar</i>
                                {{ 'cocktails.label'|trans }}
                            </li>
                        {% endif %}
                    </ul>
                    {% if hostel.guide or hostel.horseRide or hostel.scubaDiving %}
                        <h3>{% trans %}title.activities{% endtrans %}</h3>
                        <ul>
                            {% if hostel.guide %}
                                <li>
                                    <i class="map-icon map-icon-point-of-interest"></i>
                                    {{ 'guide.label'|trans }}
                                </li>
                            {% endif %}
                            {% if hostel.horseRide %}
                                <li>
                                    <i class="map-icon map-icon-horse-riding"></i>
                                    {{ 'horseRide.label'|trans }}
                                </li>
                            {% endif %}
                            {% if hostel.scubaDiving %}
                                <li>
                                    <i class="map-icon map-icon-scuba-diving"></i>
                                    {{ 'scubaDiving.label'|trans }}
                                </li>
                            {% endif %}
                        </ul>
                    {% endif %}
                    <h3>
                        <i class='material-icons'>translate</i>
                        {{ 'hostel.languages.title'|trans }} 
                        <small>{{ 'hostel.languages.subtitle'|trans }}</small>
                    </h3>
                    <p>{{ hostel.hostLanguages|split(' ')|locales|join(', ') }}</p>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12">
                    {{ include('hostel/image_slider.html.twig', {'images': hostel.images}) }}
                </div><!--/.col-sm-4-->
            </div>
            <div class="row">
                <div class="col-xs-12">
                    <a class="btn btn-common" href="{{ path('booking', {'slug' : hostel.slug}) }}">
                        <i class="material-icons">event_note</i> {{ 'button.book'|trans }}
                    </a>
                </div>
            </div>
        </div>
    </section><!--/#contact-page-->
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script>
    var swiper = new Swiper('.swiper-container', {
        slidesPerView: 'auto',
        paginationClickable: true,
        spaceBetween: 10,
        freeMode: true
    });
    </script>
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <style>
        .page-title-section {
            position: relative;
            background: url("{{ vich_uploader_asset(hostel.frontImage, 'imageFile')|imagine_filter('app_slider') }}") no-repeat scroll center center;
            background-size: cover;
        }
        .single-team-widget .team-member-info {
            height: auto;
        }
    </style>
{% endblock %}